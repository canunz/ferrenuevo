{"ast":null,"code":"var _jsxFileName = \"C:\\\\ferrenuevo\\\\fronted\\\\src\\\\componentes\\\\descuentos\\\\GestorPromociones.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { servicioProductos } from '../../servicios/servicioProductos';\nimport { TagIcon, PlusCircleIcon, PencilIcon, TrashIcon } from '@heroicons/react/24/outline';\nimport api from '../../servicios/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ModalPromocion = ({\n  open,\n  onClose,\n  onSave,\n  producto\n}) => {\n  _s();\n  const [form, setForm] = useState({\n    nombre: '',\n    descripcion: '',\n    tipo_descuento: 'porcentaje',\n    valor_descuento: '',\n    fecha_inicio: '',\n    fecha_fin: ''\n  });\n  const [cargando, setCargando] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (open && producto) {\n      setForm({\n        nombre: `Promo ${producto.nombre}`,\n        descripcion: '',\n        tipo_descuento: 'porcentaje',\n        valor_descuento: '',\n        fecha_inicio: '',\n        fecha_fin: ''\n      });\n      setError(null);\n    }\n  }, [open, producto]);\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setCargando(true);\n    setError(null);\n    try {\n      var _resPromo$data, _resPromo$data$data;\n      // 1. Crear promoción\n      const resPromo = await api.post('/promociones', form);\n      if (!((_resPromo$data = resPromo.data) !== null && _resPromo$data !== void 0 && (_resPromo$data$data = _resPromo$data.data) !== null && _resPromo$data$data !== void 0 && _resPromo$data$data.id)) throw new Error('No se pudo crear la promoción');\n      // 2. Asociar promoción al producto\n      await api.post('/promociones/asociar-producto', {\n        promocion_id: resPromo.data.data.id,\n        producto_id: producto.id\n      });\n      onSave();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message);\n    } finally {\n      setCargando(false);\n    }\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4\",\n        children: [\"Crear Promoci\\xF3n para \", producto === null || producto === void 0 ? void 0 : producto.nombre]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"nombre\",\n          value: form.nombre,\n          onChange: handleChange,\n          placeholder: \"Nombre\",\n          className: \"w-full p-2 border rounded\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"descripcion\",\n          value: form.descripcion,\n          onChange: handleChange,\n          placeholder: \"Descripci\\xF3n\",\n          className: \"w-full p-2 border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"tipo_descuento\",\n            value: form.tipo_descuento,\n            onChange: handleChange,\n            className: \"p-2 border rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"porcentaje\",\n              children: \"Porcentaje (%)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"monto_fijo\",\n              children: \"Monto Fijo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"valor_descuento\",\n            type: \"number\",\n            value: form.valor_descuento,\n            onChange: handleChange,\n            placeholder: \"Valor\",\n            className: \"p-2 border rounded w-32\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"fecha_inicio\",\n            type: \"date\",\n            value: form.fecha_inicio,\n            onChange: handleChange,\n            className: \"p-2 border rounded w-1/2\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"fecha_fin\",\n            type: \"date\",\n            value: form.fecha_fin,\n            onChange: handleChange,\n            className: \"p-2 border rounded w-1/2\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            className: \"px-4 py-2 bg-gray-200 rounded\",\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: cargando,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded\",\n            children: cargando ? 'Guardando...' : 'Guardar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(ModalPromocion, \"NHP1v+VhSzZiHvLrPq2X78/k38s=\");\n_c = ModalPromocion;\nconst GestorPromociones = () => {\n  _s2();\n  const [productos, setProductos] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [error, setError] = useState(null);\n  const [modal, setModal] = useState({\n    open: false,\n    producto: null\n  });\n  const [exito, setExito] = useState('');\n  const cargarDatos = async () => {\n    setCargando(true);\n    setError(null);\n    setExito('');\n    try {\n      const resProductos = await servicioProductos.obtenerTodos({\n        limit: 1000\n      });\n      if (resProductos.success && Array.isArray(resProductos.data)) {\n        // Para cada producto, buscar su promoción asociada\n        const productosConPromo = await Promise.all(resProductos.data.map(async prod => {\n          try {\n            var _resPromo$data2;\n            const resPromo = await api.get(`/promociones/por-producto?producto_id=${prod.id}`);\n            const promos = ((_resPromo$data2 = resPromo.data) === null || _resPromo$data2 === void 0 ? void 0 : _resPromo$data2.data) || [];\n            return {\n              ...prod,\n              promocion: promos[0] || null\n            };\n          } catch {\n            return {\n              ...prod,\n              promocion: null\n            };\n          }\n        }));\n        setProductos(productosConPromo);\n      } else {\n        throw new Error('La respuesta de productos no es un array válido.');\n      }\n    } catch (err) {\n      setError(err.message || 'Error al cargar los datos');\n      console.error(err);\n    } finally {\n      setCargando(false);\n    }\n  };\n  useEffect(() => {\n    cargarDatos();\n  }, []);\n  const formatearPrecio = precio => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP'\n    }).format(precio);\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.5\n    },\n    className: \"space-y-6\",\n    children: [exito && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-100 text-green-800 p-2 rounded text-center\",\n      children: exito\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 rounded-xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200 dark:border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-900 dark:text-white\",\n          children: \"Productos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-400 mt-1\",\n          children: \"Aplica descuentos a productos espec\\xEDficos.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50 dark:bg-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Precio Original\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Promoci\\xF3n Aplicada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"relative px-6 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Acciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200 dark:bg-gray-800\",\n            children: productos.map(producto => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-shrink-0 h-10 w-10\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"h-10 w-10 rounded-full object-cover\",\n                      src: producto.imagen || '/assets/imagenes/productos/placeholder.jpg',\n                      alt: producto.nombre\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900 dark:text-white\",\n                      children: producto.nombre\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500 dark:text-gray-400\",\n                      children: [\"SKU: \", producto.codigo_sku]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-900 dark:text-white\",\n                  children: formatearPrecio(producto.precio)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: producto.promocion ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\",\n                  children: producto.promocion.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500 italic\",\n                  children: \"Sin promoci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200 flex items-center\",\n                  onClick: () => setModal({\n                    open: true,\n                    producto\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 23\n                  }, this), \"Crear Promoci\\xF3n\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, producto.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), productos.length === 0 && !cargando && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No se encontraron productos.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalPromocion, {\n      open: modal.open,\n      producto: modal.producto,\n      onClose: () => setModal({\n        open: false,\n        producto: null\n      }),\n      onSave: () => {\n        setModal({\n          open: false,\n          producto: null\n        });\n        setExito('¡Promoción creada y asociada correctamente!');\n        cargarDatos();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n};\n_s2(GestorPromociones, \"c3d1sW0cUnJdTUzmpr/BSGROp1M=\");\n_c2 = GestorPromociones;\nexport default GestorPromociones;\nvar _c, _c2;\n$RefreshReg$(_c, \"ModalPromocion\");\n$RefreshReg$(_c2, \"GestorPromociones\");","map":{"version":3,"names":["React","useState","useEffect","motion","servicioProductos","TagIcon","PlusCircleIcon","PencilIcon","TrashIcon","api","jsxDEV","_jsxDEV","ModalPromocion","open","onClose","onSave","producto","_s","form","setForm","nombre","descripcion","tipo_descuento","valor_descuento","fecha_inicio","fecha_fin","cargando","setCargando","error","setError","handleChange","e","target","name","value","handleSubmit","preventDefault","_resPromo$data","_resPromo$data$data","resPromo","post","data","id","Error","promocion_id","producto_id","err","_err$response","_err$response$data","response","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","placeholder","required","type","onClick","disabled","_c","GestorPromociones","_s2","productos","setProductos","modal","setModal","exito","setExito","cargarDatos","resProductos","obtenerTodos","limit","success","Array","isArray","productosConPromo","Promise","all","map","prod","_resPromo$data2","get","promos","promocion","console","formatearPrecio","precio","Intl","NumberFormat","style","currency","format","div","initial","opacity","y","animate","transition","duration","scope","src","imagen","alt","codigo_sku","length","_c2","$RefreshReg$"],"sources":["C:/ferrenuevo/fronted/src/componentes/descuentos/GestorPromociones.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { servicioProductos } from '../../servicios/servicioProductos';\nimport { TagIcon, PlusCircleIcon, PencilIcon, TrashIcon } from '@heroicons/react/24/outline';\nimport api from '../../servicios/api';\n\nconst ModalPromocion = ({ open, onClose, onSave, producto }) => {\n  const [form, setForm] = useState({\n    nombre: '',\n    descripcion: '',\n    tipo_descuento: 'porcentaje',\n    valor_descuento: '',\n    fecha_inicio: '',\n    fecha_fin: ''\n  });\n  const [cargando, setCargando] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (open && producto) {\n      setForm({\n        nombre: `Promo ${producto.nombre}`,\n        descripcion: '',\n        tipo_descuento: 'porcentaje',\n        valor_descuento: '',\n        fecha_inicio: '',\n        fecha_fin: ''\n      });\n      setError(null);\n    }\n  }, [open, producto]);\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setCargando(true);\n    setError(null);\n    try {\n      // 1. Crear promoción\n      const resPromo = await api.post('/promociones', form);\n      if (!resPromo.data?.data?.id) throw new Error('No se pudo crear la promoción');\n      // 2. Asociar promoción al producto\n      await api.post('/promociones/asociar-producto', {\n        promocion_id: resPromo.data.data.id,\n        producto_id: producto.id\n      });\n      onSave();\n    } catch (err) {\n      setError(err.response?.data?.message || err.message);\n    } finally {\n      setCargando(false);\n    }\n  };\n\n  if (!open) return null;\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\">\n        <h2 className=\"text-xl font-bold mb-4\">Crear Promoción para {producto?.nombre}</h2>\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\n          <input name=\"nombre\" value={form.nombre} onChange={handleChange} placeholder=\"Nombre\" className=\"w-full p-2 border rounded\" required />\n          <textarea name=\"descripcion\" value={form.descripcion} onChange={handleChange} placeholder=\"Descripción\" className=\"w-full p-2 border rounded\" />\n          <div className=\"flex gap-2\">\n            <select name=\"tipo_descuento\" value={form.tipo_descuento} onChange={handleChange} className=\"p-2 border rounded\">\n              <option value=\"porcentaje\">Porcentaje (%)</option>\n              <option value=\"monto_fijo\">Monto Fijo</option>\n            </select>\n            <input name=\"valor_descuento\" type=\"number\" value={form.valor_descuento} onChange={handleChange} placeholder=\"Valor\" className=\"p-2 border rounded w-32\" required />\n          </div>\n          <div className=\"flex gap-2\">\n            <input name=\"fecha_inicio\" type=\"date\" value={form.fecha_inicio} onChange={handleChange} className=\"p-2 border rounded w-1/2\" required />\n            <input name=\"fecha_fin\" type=\"date\" value={form.fecha_fin} onChange={handleChange} className=\"p-2 border rounded w-1/2\" required />\n          </div>\n          {error && <div className=\"text-red-500 text-sm\">{error}</div>}\n          <div className=\"flex justify-end gap-2 mt-2\">\n            <button type=\"button\" onClick={onClose} className=\"px-4 py-2 bg-gray-200 rounded\">Cancelar</button>\n            <button type=\"submit\" disabled={cargando} className=\"px-4 py-2 bg-blue-600 text-white rounded\">{cargando ? 'Guardando...' : 'Guardar'}</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst GestorPromociones = () => {\n  const [productos, setProductos] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [error, setError] = useState(null);\n  const [modal, setModal] = useState({ open: false, producto: null });\n  const [exito, setExito] = useState('');\n\n  const cargarDatos = async () => {\n    setCargando(true);\n    setError(null);\n    setExito('');\n    try {\n      const resProductos = await servicioProductos.obtenerTodos({ limit: 1000 });\n      if (resProductos.success && Array.isArray(resProductos.data)) {\n        // Para cada producto, buscar su promoción asociada\n        const productosConPromo = await Promise.all(resProductos.data.map(async (prod) => {\n          try {\n            const resPromo = await api.get(`/promociones/por-producto?producto_id=${prod.id}`);\n            const promos = resPromo.data?.data || [];\n            return { ...prod, promocion: promos[0] || null };\n          } catch {\n            return { ...prod, promocion: null };\n          }\n        }));\n        setProductos(productosConPromo);\n      } else {\n        throw new Error('La respuesta de productos no es un array válido.');\n      }\n    } catch (err) {\n      setError(err.message || 'Error al cargar los datos');\n      console.error(err);\n    } finally {\n      setCargando(false);\n    }\n  };\n\n  useEffect(() => {\n    cargarDatos();\n  }, []);\n\n  const formatearPrecio = (precio) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n    }).format(precio);\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n      className=\"space-y-6\"\n    >\n      {exito && <div className=\"bg-green-100 text-green-800 p-2 rounded text-center\">{exito}</div>}\n      {/* Listado de Productos */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg\">\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n          <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n            Productos\n          </h2>\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n            Aplica descuentos a productos específicos.\n          </p>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\n              <tr>\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Producto</th>\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Precio Original</th>\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Promoción Aplicada</th>\n                <th scope=\"col\" className=\"relative px-6 py-3\">\n                  <span className=\"sr-only\">Acciones</span>\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800\">\n              {productos.map((producto) => (\n                <tr key={producto.id}>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-shrink-0 h-10 w-10\">\n                        <img className=\"h-10 w-10 rounded-full object-cover\" src={producto.imagen || '/assets/imagenes/productos/placeholder.jpg'} alt={producto.nombre} />\n                      </div>\n                      <div className=\"ml-4\">\n                        <div className=\"text-sm font-medium text-gray-900 dark:text-white\">{producto.nombre}</div>\n                        <div className=\"text-sm text-gray-500 dark:text-gray-400\">SKU: {producto.codigo_sku}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900 dark:text-white\">{formatearPrecio(producto.precio)}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {producto.promocion ? (\n                      <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                        {producto.promocion.nombre}\n                      </span>\n                    ) : (\n                      <span className=\"text-sm text-gray-500 italic\">Sin promoción</span>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                    <button\n                      className=\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200 flex items-center\"\n                      onClick={() => setModal({ open: true, producto })}\n                    >\n                      <PlusCircleIcon className=\"w-5 h-5 mr-1\" />\n                      Crear Promoción\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {productos.length === 0 && !cargando && (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500\">No se encontraron productos.</p>\n            </div>\n          )}\n        </div>\n      </div>\n      <ModalPromocion\n        open={modal.open}\n        producto={modal.producto}\n        onClose={() => setModal({ open: false, producto: null })}\n        onSave={() => {\n          setModal({ open: false, producto: null });\n          setExito('¡Promoción creada y asociada correctamente!');\n          cargarDatos();\n        }}\n      />\n    </motion.div>\n  );\n};\n\nexport default GestorPromociones;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}