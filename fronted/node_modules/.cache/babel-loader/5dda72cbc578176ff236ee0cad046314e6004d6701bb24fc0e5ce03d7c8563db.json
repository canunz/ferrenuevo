{"ast":null,"code":"var _jsxFileName = \"C:\\\\ferrenuevo\\\\fronted\\\\src\\\\paginas\\\\Ofertas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { servicioProductos } from '../servicios/servicioProductos';\nimport { ShoppingCartIcon, MagnifyingGlassIcon, TagIcon, FireIcon } from '@heroicons/react/24/outline';\nimport { Link } from 'react-router-dom';\nimport { useCarrito } from '../contexto/ContextoCarrito';\nimport { useNotificacion } from '../contexto/ContextoNotificacion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Ofertas = () => {\n  _s();\n  const [productos, setProductos] = useState([]);\n  const [marcas, setMarcas] = useState([]);\n  const [busqueda, setBusqueda] = useState('');\n  const [marcaSeleccionada, setMarcaSeleccionada] = useState('todas');\n  const [ordenamiento, setOrdenamiento] = useState('descuento');\n  const [cargando, setCargando] = useState(true);\n  const [precioMin, setPrecioMin] = useState(0);\n  const [precioMax, setPrecioMax] = useState(0);\n  const [filtroPrecioMin, setFiltroPrecioMin] = useState('');\n  const [filtroPrecioMax, setFiltroPrecioMax] = useState('');\n  const [estadisticas, setEstadisticas] = useState({});\n  const {\n    agregarItem\n  } = useCarrito();\n  const {\n    mostrarNotificacion\n  } = useNotificacion();\n  useEffect(() => {\n    const cargar = async () => {\n      setCargando(true);\n      try {\n        // Usar la ruta específica de ofertas\n        const res = await fetch('http://localhost:3000/api/v1/productos/ofertas');\n        const data = await res.json();\n        console.log('Respuesta de ofertas:', data); // Debug\n\n        let productosConOfertas = [];\n        if (data.success && data.data) {\n          productosConOfertas = data.data.ofertas || [];\n          console.log('Productos con ofertas:', productosConOfertas); // Debug\n          setProductos(productosConOfertas);\n          setEstadisticas(data.data.estadisticas || {});\n        } else {\n          console.error('Error en respuesta de ofertas:', data);\n          setProductos([]);\n          setEstadisticas({});\n        }\n\n        // Cargar marcas\n        const marcasData = await servicioProductos.obtenerMarcas();\n        setMarcas([{\n          id: 'todas',\n          nombre: 'Todas las Marcas'\n        }, ...(marcasData.data || [])]);\n\n        // Calcular rangos de precio de productos en oferta\n        if (productosConOfertas && productosConOfertas.length > 0) {\n          const preciosFinales = productosConOfertas.map(p => p.precio_final || p.precio);\n          setPrecioMin(Math.min(...preciosFinales));\n          setPrecioMax(Math.max(...preciosFinales));\n          setFiltroPrecioMin(Math.min(...preciosFinales));\n          setFiltroPrecioMax(Math.max(...preciosFinales));\n        }\n      } catch (error) {\n        console.error('Error al cargar ofertas:', error);\n        setProductos([]);\n        setMarcas([{\n          id: 'todas',\n          nombre: 'Todas las Marcas'\n        }]);\n        mostrarNotificacion('Error al cargar las ofertas', 'error');\n      } finally {\n        setCargando(false);\n      }\n    };\n    cargar();\n  }, [mostrarNotificacion]);\n\n  // Aplicar filtros a productos en oferta\n  let productosEnOferta = productos.filter(producto => {\n    var _producto$marca_nombr;\n    const precioFinal = producto.precio_final || producto.precio;\n    const cumpleBusqueda = producto.nombre.toLowerCase().includes(busqueda.toLowerCase()) || ((_producto$marca_nombr = producto.marca_nombre) === null || _producto$marca_nombr === void 0 ? void 0 : _producto$marca_nombr.toLowerCase().includes(busqueda.toLowerCase()));\n    const cumpleMarca = marcaSeleccionada === 'todas' || producto.marca_id === marcaSeleccionada || producto.marca_nombre === marcaSeleccionada;\n    const cumplePrecio = (!filtroPrecioMin || precioFinal >= filtroPrecioMin) && (!filtroPrecioMax || precioFinal <= filtroPrecioMax);\n    return cumpleBusqueda && cumpleMarca && cumplePrecio;\n  });\n\n  // Ordenar productos\n  productosEnOferta = [...productosEnOferta].sort((a, b) => {\n    switch (ordenamiento) {\n      case 'descuento':\n        return (b.descuento_porcentaje || 0) - (a.descuento_porcentaje || 0);\n      case 'ahorro':\n        return (b.ahorro_total || 0) - (a.ahorro_total || 0);\n      case 'precio-asc':\n        return (a.precio_final || a.precio) - (b.precio_final || b.precio);\n      case 'precio-desc':\n        return (b.precio_final || b.precio) - (a.precio_final || a.precio);\n      case 'nombre':\n        return a.nombre.localeCompare(b.nombre);\n      default:\n        return 0;\n    }\n  });\n\n  // Agrupar por categoría\n  const productosPorCategoria = productosEnOferta.reduce((acc, prod) => {\n    const cat = prod.categoria_nombre || 'Otros';\n    if (!acc[cat]) acc[cat] = [];\n    acc[cat].push(prod);\n    return acc;\n  }, {});\n  const formatearPrecio = precio => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(precio);\n  };\n  const manejarAgregarCarrito = producto => {\n    // Usar precio final si está disponible\n    const productoParaCarrito = {\n      ...producto,\n      precio: producto.precio_final || producto.precio\n    };\n    agregarItem(productoParaCarrito);\n    const mensaje = producto.tiene_promocion ? `¡${producto.nombre} agregado con ${producto.descuento_porcentaje}% de descuento!` : `${producto.nombre} agregado al carrito`;\n    mostrarNotificacion(mensaje, 'success');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-orange-600 mb-4\",\n          children: \"\\uD83D\\uDD25 OFERTAS ESPECIALES \\uD83D\\uDD25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), estadisticas && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg p-4 mx-auto max-w-4xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold\",\n                children: estadisticas.productos_con_oferta || productosEnOferta.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm opacity-90\",\n                children: \"Productos en Oferta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold\",\n                children: [estadisticas.mejor_descuento || 0, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm opacity-90\",\n                children: \"Mejor Descuento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold\",\n                children: formatearPrecio(estadisticas.ahorro_total_disponible || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm opacity-90\",\n                children: \"Ahorro Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold\",\n                children: [estadisticas.porcentaje_en_oferta || 0, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm opacity-90\",\n                children: \"Productos con Descuento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg p-6 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Buscar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Buscar productos...\",\n              value: busqueda,\n              onChange: e => setBusqueda(e.target.value),\n              className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Marca\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: marcaSeleccionada,\n              onChange: e => setMarcaSeleccionada(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500\",\n              children: marcas.map(marca => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: marca.id,\n                children: marca.nombre\n              }, marca.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Rango de Precio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: precioMin,\n                max: precioMax,\n                value: filtroPrecioMin,\n                onChange: e => setFiltroPrecioMin(Number(e.target.value)),\n                className: \"w-full px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-red-500\",\n                placeholder: \"M\\xEDn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: precioMin,\n                max: precioMax,\n                value: filtroPrecioMax,\n                onChange: e => setFiltroPrecioMax(Number(e.target.value)),\n                className: \"w-full px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-red-500\",\n                placeholder: \"M\\xE1x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Ordenar por\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: ordenamiento,\n              onChange: e => setOrdenamiento(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"descuento\",\n                children: \"Mayor Descuento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ahorro\",\n                children: \"Mayor Ahorro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"precio-asc\",\n                children: \"Precio: Menor a Mayor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"precio-desc\",\n                children: \"Precio: Mayor a Menor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"nombre\",\n                children: \"Nombre A-Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mb-1\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg font-bold text-red-600\",\n              children: [productosEnOferta.length, \" ofertas\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), cargando ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-20\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-16 w-16 border-b-2 border-red-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-600 text-lg\",\n          children: \"Cargando ofertas incre\\xEDbles...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this) : productosEnOferta.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-20\",\n        children: [/*#__PURE__*/_jsxDEV(FireIcon, {\n          className: \"h-16 w-16 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl text-gray-600 mb-2\",\n          children: \"No hay ofertas que coincidan con tus filtros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500\",\n          children: \"Prueba ajustando los filtros de b\\xFAsqueda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this) : Object.entries(productosPorCategoria).map(([categoria, productos]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(TagIcon, {\n            className: \"h-6 w-6 text-orange-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: categoria\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium\",\n            children: [productos.length, \" ofertas\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n          children: productos.map(producto => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg overflow-hidden group hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: producto.imagen ? `/assets/imagenes/productos/${producto.imagen}` : '/assets/imagenes/productos/placeholder.jpg',\n                alt: producto.nombre,\n                className: \"w-full h-48 object-contain bg-gray-50 group-hover:scale-105 transition-transform duration-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this), producto.tiene_promocion && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-2 left-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg\",\n                  style: {\n                    backgroundColor: producto.color_promocion || '#e74c3c'\n                  },\n                  children: [\"-\", producto.descuento_porcentaje, \"% OFF\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 25\n              }, this), producto.etiqueta_promocion && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-2 right-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-xs font-bold\",\n                children: producto.etiqueta_promocion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-blue-600 font-medium uppercase tracking-wide\",\n                  children: producto.marca_nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 25\n                }, this), producto.tiene_stock && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-green-600 font-medium\",\n                  children: \"\\u2713 En Stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-gray-900 mb-3 line-clamp-2 text-lg leading-tight\",\n                children: producto.nombre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 23\n              }, this), producto.badge_promocion && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 p-2 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs font-medium text-red-700\",\n                  children: producto.badge_promocion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 27\n                }, this), producto.vigencia_promocion && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-red-600\",\n                  children: producto.vigencia_promocion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-2xl font-bold text-gray-900\",\n                    children: formatearPrecio(producto.precio_final || producto.precio)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 27\n                  }, this), producto.precio_original && producto.precio_original !== (producto.precio_final || producto.precio) && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-500 line-through\",\n                    children: formatearPrecio(producto.precio_original)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 25\n                }, this), producto.ahorro_total > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-green-600\",\n                  children: [\"\\uD83D\\uDCB0 Ahorras \", formatearPrecio(producto.ahorro_total)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => manejarAgregarCarrito(producto),\n                  className: \"w-full flex items-center justify-center px-4 py-3 rounded-lg font-semibold transition-all bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 shadow-lg hover:shadow-xl transform hover:scale-105\",\n                  children: [/*#__PURE__*/_jsxDEV(ShoppingCartIcon, {\n                    className: \"h-5 w-5 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 27\n                  }, this), \"Agregar al carrito\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/producto/${producto.id}`,\n                  className: \"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",\n                  children: \"Ver detalles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 21\n            }, this)]\n          }, producto.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this)]\n      }, categoria, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(Ofertas, \"8QHCHqMH224Q3Kinn7OYaP8/ktU=\", false, function () {\n  return [useCarrito, useNotificacion];\n});\n_c = Ofertas;\nexport default Ofertas;\nvar _c;\n$RefreshReg$(_c, \"Ofertas\");","map":{"version":3,"names":["React","useEffect","useState","servicioProductos","ShoppingCartIcon","MagnifyingGlassIcon","TagIcon","FireIcon","Link","useCarrito","useNotificacion","jsxDEV","_jsxDEV","Ofertas","_s","productos","setProductos","marcas","setMarcas","busqueda","setBusqueda","marcaSeleccionada","setMarcaSeleccionada","ordenamiento","setOrdenamiento","cargando","setCargando","precioMin","setPrecioMin","precioMax","setPrecioMax","filtroPrecioMin","setFiltroPrecioMin","filtroPrecioMax","setFiltroPrecioMax","estadisticas","setEstadisticas","agregarItem","mostrarNotificacion","cargar","res","fetch","data","json","console","log","productosConOfertas","success","ofertas","error","marcasData","obtenerMarcas","id","nombre","length","preciosFinales","map","p","precio_final","precio","Math","min","max","productosEnOferta","filter","producto","_producto$marca_nombr","precioFinal","cumpleBusqueda","toLowerCase","includes","marca_nombre","cumpleMarca","marca_id","cumplePrecio","sort","a","b","descuento_porcentaje","ahorro_total","localeCompare","productosPorCategoria","reduce","acc","prod","cat","categoria_nombre","push","formatearPrecio","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","manejarAgregarCarrito","productoParaCarrito","mensaje","tiene_promocion","className","children","fileName","_jsxFileName","lineNumber","columnNumber","productos_con_oferta","mejor_descuento","ahorro_total_disponible","porcentaje_en_oferta","type","placeholder","value","onChange","e","target","marca","Number","Object","entries","categoria","src","imagen","alt","backgroundColor","color_promocion","etiqueta_promocion","tiene_stock","badge_promocion","vigencia_promocion","precio_original","onClick","to","_c","$RefreshReg$"],"sources":["C:/ferrenuevo/fronted/src/paginas/Ofertas.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { servicioProductos } from '../servicios/servicioProductos';\r\nimport { ShoppingCartIcon, MagnifyingGlassIcon, TagIcon, FireIcon } from '@heroicons/react/24/outline';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCarrito } from '../contexto/ContextoCarrito';\r\nimport { useNotificacion } from '../contexto/ContextoNotificacion';\r\n\r\nconst Ofertas = () => {\r\n  const [productos, setProductos] = useState([]);\r\n  const [marcas, setMarcas] = useState([]);\r\n  const [busqueda, setBusqueda] = useState('');\r\n  const [marcaSeleccionada, setMarcaSeleccionada] = useState('todas');\r\n  const [ordenamiento, setOrdenamiento] = useState('descuento');\r\n  const [cargando, setCargando] = useState(true);\r\n  const [precioMin, setPrecioMin] = useState(0);\r\n  const [precioMax, setPrecioMax] = useState(0);\r\n  const [filtroPrecioMin, setFiltroPrecioMin] = useState('');\r\n  const [filtroPrecioMax, setFiltroPrecioMax] = useState('');\r\n  const [estadisticas, setEstadisticas] = useState({});\r\n  const { agregarItem } = useCarrito();\r\n  const { mostrarNotificacion } = useNotificacion();\r\n\r\n  useEffect(() => {\r\n    const cargar = async () => {\r\n      setCargando(true);\r\n      try {\r\n        // Usar la ruta específica de ofertas\r\n        const res = await fetch('http://localhost:3000/api/v1/productos/ofertas');\r\n        const data = await res.json();\r\n        console.log('Respuesta de ofertas:', data); // Debug\r\n        \r\n        let productosConOfertas = [];\r\n        if (data.success && data.data) {\r\n          productosConOfertas = data.data.ofertas || [];\r\n          console.log('Productos con ofertas:', productosConOfertas); // Debug\r\n          setProductos(productosConOfertas);\r\n          setEstadisticas(data.data.estadisticas || {});\r\n        } else {\r\n          console.error('Error en respuesta de ofertas:', data);\r\n          setProductos([]);\r\n          setEstadisticas({});\r\n        }\r\n        \r\n        // Cargar marcas\r\n        const marcasData = await servicioProductos.obtenerMarcas();\r\n        setMarcas([{ id: 'todas', nombre: 'Todas las Marcas' }, ...(marcasData.data || [])]);\r\n        \r\n        // Calcular rangos de precio de productos en oferta\r\n        if (productosConOfertas && productosConOfertas.length > 0) {\r\n          const preciosFinales = productosConOfertas.map(p => p.precio_final || p.precio);\r\n          setPrecioMin(Math.min(...preciosFinales));\r\n          setPrecioMax(Math.max(...preciosFinales));\r\n          setFiltroPrecioMin(Math.min(...preciosFinales));\r\n          setFiltroPrecioMax(Math.max(...preciosFinales));\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('Error al cargar ofertas:', error);\r\n        setProductos([]);\r\n        setMarcas([{ id: 'todas', nombre: 'Todas las Marcas' }]);\r\n        mostrarNotificacion('Error al cargar las ofertas', 'error');\r\n      } finally {\r\n        setCargando(false);\r\n      }\r\n    };\r\n    cargar();\r\n  }, [mostrarNotificacion]);\r\n\r\n  // Aplicar filtros a productos en oferta\r\n  let productosEnOferta = productos.filter(producto => {\r\n    const precioFinal = producto.precio_final || producto.precio;\r\n    const cumpleBusqueda = producto.nombre.toLowerCase().includes(busqueda.toLowerCase()) ||\r\n      (producto.marca_nombre?.toLowerCase().includes(busqueda.toLowerCase()));\r\n    const cumpleMarca = marcaSeleccionada === 'todas' || \r\n      producto.marca_id === marcaSeleccionada ||\r\n      producto.marca_nombre === marcaSeleccionada;\r\n    const cumplePrecio = (!filtroPrecioMin || precioFinal >= filtroPrecioMin) && \r\n      (!filtroPrecioMax || precioFinal <= filtroPrecioMax);\r\n    \r\n    return cumpleBusqueda && cumpleMarca && cumplePrecio;\r\n  });\r\n\r\n  // Ordenar productos\r\n  productosEnOferta = [...productosEnOferta].sort((a, b) => {\r\n    switch (ordenamiento) {\r\n      case 'descuento':\r\n        return (b.descuento_porcentaje || 0) - (a.descuento_porcentaje || 0);\r\n      case 'ahorro':\r\n        return (b.ahorro_total || 0) - (a.ahorro_total || 0);\r\n      case 'precio-asc':\r\n        return (a.precio_final || a.precio) - (b.precio_final || b.precio);\r\n      case 'precio-desc':\r\n        return (b.precio_final || b.precio) - (a.precio_final || a.precio);\r\n      case 'nombre':\r\n        return a.nombre.localeCompare(b.nombre);\r\n      default:\r\n        return 0;\r\n    }\r\n  });\r\n\r\n  // Agrupar por categoría\r\n  const productosPorCategoria = productosEnOferta.reduce((acc, prod) => {\r\n    const cat = prod.categoria_nombre || 'Otros';\r\n    if (!acc[cat]) acc[cat] = [];\r\n    acc[cat].push(prod);\r\n    return acc;\r\n  }, {});\r\n\r\n  const formatearPrecio = (precio) => {\r\n    return new Intl.NumberFormat('es-CL', {\r\n      style: 'currency',\r\n      currency: 'CLP',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(precio);\r\n  };\r\n\r\n  const manejarAgregarCarrito = (producto) => {\r\n    // Usar precio final si está disponible\r\n    const productoParaCarrito = {\r\n      ...producto,\r\n      precio: producto.precio_final || producto.precio\r\n    };\r\n    agregarItem(productoParaCarrito);\r\n    \r\n    const mensaje = producto.tiene_promocion \r\n      ? `¡${producto.nombre} agregado con ${producto.descuento_porcentaje}% de descuento!`\r\n      : `${producto.nombre} agregado al carrito`;\r\n    mostrarNotificacion(mensaje, 'success');\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Header con estadísticas */}\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-orange-600 mb-4\">\r\n            🔥 OFERTAS ESPECIALES 🔥\r\n          </h1>\r\n          {estadisticas && (\r\n            <div className=\"bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg p-4 mx-auto max-w-4xl\">\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n                <div>\r\n                  <div className=\"text-2xl font-bold\">{estadisticas.productos_con_oferta || productosEnOferta.length}</div>\r\n                  <div className=\"text-sm opacity-90\">Productos en Oferta</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-2xl font-bold\">{estadisticas.mejor_descuento || 0}%</div>\r\n                  <div className=\"text-sm opacity-90\">Mejor Descuento</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-2xl font-bold\">{formatearPrecio(estadisticas.ahorro_total_disponible || 0)}</div>\r\n                  <div className=\"text-sm opacity-90\">Ahorro Total</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-2xl font-bold\">{estadisticas.porcentaje_en_oferta || 0}%</div>\r\n                  <div className=\"text-sm opacity-90\">Productos con Descuento</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Filtros mejorados */}\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 mb-8\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end\">\r\n            <div className=\"relative\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Buscar</label>\r\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Buscar productos...\"\r\n                value={busqueda}\r\n                onChange={e => setBusqueda(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Marca</label>\r\n              <select\r\n                value={marcaSeleccionada}\r\n                onChange={e => setMarcaSeleccionada(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500\"\r\n              >\r\n                {marcas.map(marca => (\r\n                  <option key={marca.id} value={marca.id}>{marca.nombre}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Rango de Precio</label>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"number\"\r\n                  min={precioMin}\r\n                  max={precioMax}\r\n                  value={filtroPrecioMin}\r\n                  onChange={e => setFiltroPrecioMin(Number(e.target.value))}\r\n                  className=\"w-full px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-red-500\"\r\n                  placeholder=\"Mín\"\r\n                />\r\n                <span className=\"text-gray-500\">-</span>\r\n                <input\r\n                  type=\"number\"\r\n                  min={precioMin}\r\n                  max={precioMax}\r\n                  value={filtroPrecioMax}\r\n                  onChange={e => setFiltroPrecioMax(Number(e.target.value))}\r\n                  className=\"w-full px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-red-500\"\r\n                  placeholder=\"Máx\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ordenar por</label>\r\n              <select\r\n                value={ordenamiento}\r\n                onChange={e => setOrdenamiento(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500\"\r\n              >\r\n                <option value=\"descuento\">Mayor Descuento</option>\r\n                <option value=\"ahorro\">Mayor Ahorro</option>\r\n                <option value=\"precio-asc\">Precio: Menor a Mayor</option>\r\n                <option value=\"precio-desc\">Precio: Mayor a Menor</option>\r\n                <option value=\"nombre\">Nombre A-Z</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <div className=\"text-sm text-gray-600 mb-1\">Total</div>\r\n              <div className=\"text-lg font-bold text-red-600\">{productosEnOferta.length} ofertas</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Contenido principal */}\r\n        {cargando ? (\r\n          <div className=\"text-center py-20\">\r\n            <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-red-500 mx-auto mb-4\"></div>\r\n            <div className=\"text-gray-600 text-lg\">Cargando ofertas increíbles...</div>\r\n          </div>\r\n        ) : productosEnOferta.length === 0 ? (\r\n          <div className=\"text-center py-20\">\r\n            <FireIcon className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\r\n            <div className=\"text-xl text-gray-600 mb-2\">No hay ofertas que coincidan con tus filtros</div>\r\n            <div className=\"text-gray-500\">Prueba ajustando los filtros de búsqueda</div>\r\n          </div>\r\n        ) : (\r\n          Object.entries(productosPorCategoria).map(([categoria, productos]) => (\r\n            <div key={categoria} className=\"mb-12\">\r\n              <div className=\"flex items-center gap-3 mb-6\">\r\n                <TagIcon className=\"h-6 w-6 text-orange-500\" />\r\n                <h2 className=\"text-3xl font-bold text-gray-800\">{categoria}</h2>\r\n                <span className=\"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium\">\r\n                  {productos.length} ofertas\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n                {productos.map(producto => (\r\n                  <div key={producto.id} className=\"bg-white rounded-xl shadow-lg overflow-hidden group hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1\">\r\n                    <div className=\"relative\">\r\n                      <img\r\n                        src={producto.imagen ? `/assets/imagenes/productos/${producto.imagen}` : '/assets/imagenes/productos/placeholder.jpg'}\r\n                        alt={producto.nombre}\r\n                        className=\"w-full h-48 object-contain bg-gray-50 group-hover:scale-105 transition-transform duration-300\"\r\n                      />\r\n                      \r\n                      {/* Badge de descuento */}\r\n                      {producto.tiene_promocion && (\r\n                        <div className=\"absolute top-2 left-2\">\r\n                          <div \r\n                            className=\"text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg\"\r\n                            style={{ backgroundColor: producto.color_promocion || '#e74c3c' }}\r\n                          >\r\n                            -{producto.descuento_porcentaje}% OFF\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {/* Etiqueta de promoción */}\r\n                      {producto.etiqueta_promocion && (\r\n                        <div className=\"absolute top-2 right-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-xs font-bold\">\r\n                          {producto.etiqueta_promocion}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"p-4\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <span className=\"text-xs text-blue-600 font-medium uppercase tracking-wide\">\r\n                          {producto.marca_nombre}\r\n                        </span>\r\n                        {producto.tiene_stock && (\r\n                          <span className=\"text-xs text-green-600 font-medium\">✓ En Stock</span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <h3 className=\"font-bold text-gray-900 mb-3 line-clamp-2 text-lg leading-tight\">\r\n                        {producto.nombre}\r\n                      </h3>\r\n                      \r\n                      {/* Promoción activa */}\r\n                      {producto.badge_promocion && (\r\n                        <div className=\"mb-3 p-2 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200\">\r\n                          <div className=\"text-xs font-medium text-red-700\">{producto.badge_promocion}</div>\r\n                          {producto.vigencia_promocion && (\r\n                            <div className=\"text-xs text-red-600\">{producto.vigencia_promocion}</div>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {/* Precios */}\r\n                      <div className=\"mb-4\">\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                          <span className=\"text-2xl font-bold text-gray-900\">\r\n                            {formatearPrecio(producto.precio_final || producto.precio)}\r\n                          </span>\r\n                          {producto.precio_original && producto.precio_original !== (producto.precio_final || producto.precio) && (\r\n                            <span className=\"text-sm text-gray-500 line-through\">\r\n                              {formatearPrecio(producto.precio_original)}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        {producto.ahorro_total > 0 && (\r\n                          <div className=\"text-sm font-medium text-green-600\">\r\n                            💰 Ahorras {formatearPrecio(producto.ahorro_total)}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {/* Botones */}\r\n                      <div className=\"space-y-2\">\r\n                        <button\r\n                          onClick={() => manejarAgregarCarrito(producto)}\r\n                          className=\"w-full flex items-center justify-center px-4 py-3 rounded-lg font-semibold transition-all bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n                        >\r\n                          <ShoppingCartIcon className=\"h-5 w-5 mr-2\" />\r\n                          Agregar al carrito\r\n                        </button>\r\n                        \r\n                        <Link\r\n                          to={`/producto/${producto.id}`}\r\n                          className=\"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                        >\r\n                          Ver detalles\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ofertas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}