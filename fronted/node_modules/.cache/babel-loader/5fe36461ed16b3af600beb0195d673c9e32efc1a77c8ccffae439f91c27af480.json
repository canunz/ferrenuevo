{"ast":null,"code":"import _objectSpread from\"C:/ferrenuevo/fronted/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{DocumentTextIcon,MagnifyingGlassIcon,XMarkIcon,CheckIcon}from'@heroicons/react/24/outline';import{servicioFacturas}from'../../servicios/servicioFacturas';import{servicioPedidos}from'../../servicios/servicioPedidos';import{useNotificacion}from'../../contexto/ContextoNotificacion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormularioFactura=_ref=>{var _pedidoSeleccionado$c;let{onGuardar,onCancelar}=_ref;const[formulario,setFormulario]=useState({pedido_id:'',metodo_pago:'efectivo',observaciones:''});const[pedidos,setPedidos]=useState([]);const[pedidoSeleccionado,setPedidoSeleccionado]=useState(null);const[cargando,setCargando]=useState(false);const[buscando,setBuscando]=useState(false);const[terminoBusqueda,setTerminoBusqueda]=useState('');const{exito,error}=useNotificacion();useEffect(()=>{cargarPedidos();},[]);const cargarPedidos=async()=>{try{setBuscando(true);const respuesta=await servicioPedidos.obtenerTodos({estado:'confirmado',limit:50});setPedidos(respuesta.data||[]);}catch(err){console.error('Error al cargar pedidos:',err);error('Error al cargar los pedidos');setPedidos([]);}finally{setBuscando(false);}};const buscarPedidos=async()=>{if(!terminoBusqueda.trim()){cargarPedidos();return;}try{setBuscando(true);const respuesta=await servicioPedidos.buscar(terminoBusqueda);setPedidos(respuesta.data||[]);}catch(err){console.error('Error al buscar pedidos:',err);error('Error al buscar pedidos');setPedidos([]);}finally{setBuscando(false);}};const seleccionarPedido=pedido=>{setPedidoSeleccionado(pedido);setFormulario(prev=>_objectSpread(_objectSpread({},prev),{},{pedido_id:pedido.id}));};const emitirFactura=async()=>{if(!formulario.pedido_id){error('Debe seleccionar un pedido');return;}try{setCargando(true);await servicioFacturas.emitirFactura(formulario);exito('Factura emitida exitosamente');onGuardar();}catch(err){console.error('Error al emitir factura:',err);error('Error al emitir la factura');}finally{setCargando(false);}};const formatearMoneda=monto=>{if(!monto&&monto!==0)return'N/A';return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP'}).format(monto);};const formatearFecha=fecha=>{if(!fecha)return'N/A';return new Date(fecha).toLocaleDateString('es-CL');};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-6 h-6 text-blue-600\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Emitir Factura\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancelar,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-6 h-6\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Seleccionar Pedido\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:terminoBusqueda,onChange:e=>setTerminoBusqueda(e.target.value),onKeyPress:e=>e.key==='Enter'&&buscarPedidos(),placeholder:\"Buscar pedidos por n\\xFAmero, cliente...\",className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg max-h-60 overflow-y-auto\",children:buscando?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2\"}),\"Buscando pedidos...\"]}):Array.isArray(pedidos)&&pedidos.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center text-gray-500\",children:\"No se encontraron pedidos\"}):Array.isArray(pedidos)?pedidos.map(pedido=>{var _pedido$cliente,_pedido$detalles;return/*#__PURE__*/_jsx(\"div\",{onClick:()=>seleccionarPedido(pedido),className:\"p-4 border-b border-gray-100 last:border-b-0 cursor-pointer hover:bg-gray-50 \".concat((pedidoSeleccionado===null||pedidoSeleccionado===void 0?void 0:pedidoSeleccionado.id)===pedido.id?'bg-blue-50 border-blue-200':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:pedido.numero_pedido}),(pedidoSeleccionado===null||pedidoSeleccionado===void 0?void 0:pedidoSeleccionado.id)===pedido.id&&/*#__PURE__*/_jsx(CheckIcon,{className:\"w-4 h-4 text-blue-600\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Cliente: \",((_pedido$cliente=pedido.cliente)===null||_pedido$cliente===void 0?void 0:_pedido$cliente.nombre)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Fecha: \",formatearFecha(pedido.created_at)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:formatearMoneda(pedido.total)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[((_pedido$detalles=pedido.detalles)===null||_pedido$detalles===void 0?void 0:_pedido$detalles.length)||0,\" productos\"]})]})]})},pedido.id);}):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center text-gray-500\",children:\"Cargando pedidos...\"})})]}),pedidoSeleccionado&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 mb-2\",children:\"Pedido Seleccionado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"N\\xFAmero de pedido\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:pedidoSeleccionado.numero_pedido})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Cliente\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:((_pedidoSeleccionado$c=pedidoSeleccionado.cliente)===null||_pedidoSeleccionado$c===void 0?void 0:_pedidoSeleccionado$c.nombre)||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:formatearFecha(pedidoSeleccionado.created_at)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:formatearMoneda(pedidoSeleccionado.total)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Configuraci\\xF3n de Factura\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"M\\xE9todo de Pago\"}),/*#__PURE__*/_jsxs(\"select\",{value:formulario.metodo_pago,onChange:e=>setFormulario(prev=>_objectSpread(_objectSpread({},prev),{},{metodo_pago:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"efectivo\",children:\"Efectivo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"transferencia\",children:\"Transferencia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"webpay\",children:\"Webpay\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tarjeta\",children:\"Tarjeta\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formulario.observaciones,onChange:e=>setFormulario(prev=>_objectSpread(_objectSpread({},prev),{},{observaciones:e.target.value})),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Observaciones adicionales...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancelar,className:\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:emitirFactura,disabled:!formulario.pedido_id||cargando,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:cargando?'Emitiendo...':'Emitir Factura'})]})]})]});};export default FormularioFactura;","map":{"version":3,"names":["React","useState","useEffect","DocumentTextIcon","MagnifyingGlassIcon","XMarkIcon","CheckIcon","servicioFacturas","servicioPedidos","useNotificacion","jsx","_jsx","jsxs","_jsxs","FormularioFactura","_ref","_pedidoSeleccionado$c","onGuardar","onCancelar","formulario","setFormulario","pedido_id","metodo_pago","observaciones","pedidos","setPedidos","pedidoSeleccionado","setPedidoSeleccionado","cargando","setCargando","buscando","setBuscando","terminoBusqueda","setTerminoBusqueda","exito","error","cargarPedidos","respuesta","obtenerTodos","estado","limit","data","err","console","buscarPedidos","trim","buscar","seleccionarPedido","pedido","prev","_objectSpread","id","emitirFactura","formatearMoneda","monto","Intl","NumberFormat","style","currency","format","formatearFecha","fecha","Date","toLocaleDateString","className","children","onClick","type","value","onChange","e","target","onKeyPress","key","placeholder","Array","isArray","length","map","_pedido$cliente","_pedido$detalles","concat","numero_pedido","cliente","nombre","created_at","total","detalles","rows","disabled"],"sources":["C:/ferrenuevo/fronted/src/componentes/facturas/FormularioFactura.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  DocumentTextIcon, \r\n  MagnifyingGlassIcon,\r\n  XMarkIcon,\r\n  CheckIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { servicioFacturas } from '../../servicios/servicioFacturas';\r\nimport { servicioPedidos } from '../../servicios/servicioPedidos';\r\nimport { useNotificacion } from '../../contexto/ContextoNotificacion';\r\n\r\nconst FormularioFactura = ({ onGuardar, onCancelar }) => {\r\n  const [formulario, setFormulario] = useState({\r\n    pedido_id: '',\r\n    metodo_pago: 'efectivo',\r\n    observaciones: ''\r\n  });\r\n  const [pedidos, setPedidos] = useState([]);\r\n  const [pedidoSeleccionado, setPedidoSeleccionado] = useState(null);\r\n  const [cargando, setCargando] = useState(false);\r\n  const [buscando, setBuscando] = useState(false);\r\n  const [terminoBusqueda, setTerminoBusqueda] = useState('');\r\n\r\n  const { exito, error } = useNotificacion();\r\n\r\n  useEffect(() => {\r\n    cargarPedidos();\r\n  }, []);\r\n\r\n  const cargarPedidos = async () => {\r\n    try {\r\n      setBuscando(true);\r\n      const respuesta = await servicioPedidos.obtenerTodos({\r\n        estado: 'confirmado',\r\n        limit: 50\r\n      });\r\n      setPedidos(respuesta.data || []);\r\n    } catch (err) {\r\n      console.error('Error al cargar pedidos:', err);\r\n      error('Error al cargar los pedidos');\r\n      setPedidos([]);\r\n    } finally {\r\n      setBuscando(false);\r\n    }\r\n  };\r\n\r\n  const buscarPedidos = async () => {\r\n    if (!terminoBusqueda.trim()) {\r\n      cargarPedidos();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setBuscando(true);\r\n      const respuesta = await servicioPedidos.buscar(terminoBusqueda);\r\n      setPedidos(respuesta.data || []);\r\n    } catch (err) {\r\n      console.error('Error al buscar pedidos:', err);\r\n      error('Error al buscar pedidos');\r\n      setPedidos([]);\r\n    } finally {\r\n      setBuscando(false);\r\n    }\r\n  };\r\n\r\n  const seleccionarPedido = (pedido) => {\r\n    setPedidoSeleccionado(pedido);\r\n    setFormulario(prev => ({ ...prev, pedido_id: pedido.id }));\r\n  };\r\n\r\n  const emitirFactura = async () => {\r\n    if (!formulario.pedido_id) {\r\n      error('Debe seleccionar un pedido');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setCargando(true);\r\n      await servicioFacturas.emitirFactura(formulario);\r\n      exito('Factura emitida exitosamente');\r\n      onGuardar();\r\n    } catch (err) {\r\n      console.error('Error al emitir factura:', err);\r\n      error('Error al emitir la factura');\r\n    } finally {\r\n      setCargando(false);\r\n    }\r\n  };\r\n\r\n  const formatearMoneda = (monto) => {\r\n    if (!monto && monto !== 0) return 'N/A';\r\n    return new Intl.NumberFormat('es-CL', {\r\n      style: 'currency',\r\n      currency: 'CLP'\r\n    }).format(monto);\r\n  };\r\n\r\n  const formatearFecha = (fecha) => {\r\n    if (!fecha) return 'N/A';\r\n    return new Date(fecha).toLocaleDateString('es-CL');\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg\">\r\n      {/* Encabezado */}\r\n      <div className=\"px-6 py-4 border-b border-gray-200\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <DocumentTextIcon className=\"w-6 h-6 text-blue-600\" />\r\n            <h2 className=\"text-xl font-semibold text-gray-900\">Emitir Factura</h2>\r\n          </div>\r\n          <button\r\n            onClick={onCancelar}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n          >\r\n            <XMarkIcon className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"px-6 py-4\">\r\n        {/* Selección de pedido */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Seleccionar Pedido</h3>\r\n          \r\n          {/* Búsqueda de pedidos */}\r\n          <div className=\"mb-4\">\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"text\"\r\n                value={terminoBusqueda}\r\n                onChange={(e) => setTerminoBusqueda(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && buscarPedidos()}\r\n                placeholder=\"Buscar pedidos por número, cliente...\"\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n              <MagnifyingGlassIcon className=\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\" />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Lista de pedidos */}\r\n          <div className=\"border border-gray-200 rounded-lg max-h-60 overflow-y-auto\">\r\n            {buscando ? (\r\n              <div className=\"p-4 text-center text-gray-500\">\r\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2\"></div>\r\n                Buscando pedidos...\r\n              </div>\r\n            ) : Array.isArray(pedidos) && pedidos.length === 0 ? (\r\n              <div className=\"p-4 text-center text-gray-500\">\r\n                No se encontraron pedidos\r\n              </div>\r\n            ) : Array.isArray(pedidos) ? (\r\n              pedidos.map((pedido) => (\r\n                <div\r\n                  key={pedido.id}\r\n                  onClick={() => seleccionarPedido(pedido)}\r\n                  className={`p-4 border-b border-gray-100 last:border-b-0 cursor-pointer hover:bg-gray-50 ${\r\n                    pedidoSeleccionado?.id === pedido.id ? 'bg-blue-50 border-blue-200' : ''\r\n                  }`}\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <span className=\"font-medium text-gray-900\">\r\n                          {pedido.numero_pedido}\r\n                        </span>\r\n                        {pedidoSeleccionado?.id === pedido.id && (\r\n                          <CheckIcon className=\"w-4 h-4 text-blue-600\" />\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Cliente: {pedido.cliente?.nombre || 'N/A'}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Fecha: {formatearFecha(pedido.created_at)}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"font-semibold text-gray-900\">\r\n                        {formatearMoneda(pedido.total)}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {pedido.detalles?.length || 0} productos\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"p-4 text-center text-gray-500\">\r\n                Cargando pedidos...\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pedido seleccionado */}\r\n        {pedidoSeleccionado && (\r\n          <div className=\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Pedido Seleccionado</h4>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Número de pedido</p>\r\n                <p className=\"font-medium text-gray-900\">{pedidoSeleccionado.numero_pedido}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Cliente</p>\r\n                <p className=\"font-medium text-gray-900\">{pedidoSeleccionado.cliente?.nombre || 'N/A'}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Fecha</p>\r\n                <p className=\"font-medium text-gray-900\">{formatearFecha(pedidoSeleccionado.created_at)}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Total</p>\r\n                <p className=\"font-medium text-gray-900\">{formatearMoneda(pedidoSeleccionado.total)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Configuración de factura */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Configuración de Factura</h3>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Método de Pago\r\n              </label>\r\n              <select\r\n                value={formulario.metodo_pago}\r\n                onChange={(e) => setFormulario(prev => ({ ...prev, metodo_pago: e.target.value }))}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"efectivo\">Efectivo</option>\r\n                <option value=\"transferencia\">Transferencia</option>\r\n                <option value=\"webpay\">Webpay</option>\r\n                <option value=\"tarjeta\">Tarjeta</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Observaciones\r\n            </label>\r\n            <textarea\r\n              value={formulario.observaciones}\r\n              onChange={(e) => setFormulario(prev => ({ ...prev, observaciones: e.target.value }))}\r\n              rows={3}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Observaciones adicionales...\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botones */}\r\n        <div className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onCancelar}\r\n            className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            onClick={emitirFactura}\r\n            disabled={!formulario.pedido_id || cargando}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {cargando ? 'Emitiendo...' : 'Emitir Factura'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormularioFactura;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}