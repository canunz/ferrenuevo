{"ast":null,"code":"import _objectSpread from\"C:/ferrenuevo/fronted/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{servicioProductos}from'../../servicios/servicioProductos';import{servicioDescuentos}from'../../servicios/servicioDescuentos';import{TagIcon,PlusCircleIcon,PencilIcon,TrashIcon}from'@heroicons/react/24/outline';import api from'../../servicios/api';import dayjs from'dayjs';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ModalPromocion=_ref=>{let{open,onClose,onSave,producto}=_ref;const[form,setForm]=useState({nombre:'',descripcion:'',tipo_descuento:'porcentaje',valor_descuento:'',fecha_inicio:'',fecha_fin:''});const[cargando,setCargando]=useState(false);const[error,setError]=useState(null);useEffect(()=>{if(open&&producto){// Fechas por defecto: hoy y mañana\nconst hoy=dayjs().format('YYYY-MM-DD');const manana=dayjs().add(1,'day').format('YYYY-MM-DD');setForm({nombre:\"Promo \".concat(producto.nombre),descripcion:'',tipo_descuento:'porcentaje',valor_descuento:'',fecha_inicio:hoy,fecha_fin:manana});setError(null);}},[open,producto]);const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setCargando(true);setError(null);try{// Construir el objeto descuento con los campos correctos\nconst descuento={producto_id:producto.id,tipo:form.tipo_descuento,// 'porcentaje' o 'monto_fijo'\nvalor:form.valor_descuento,fecha_inicio:form.fecha_inicio,fecha_fin:form.fecha_fin,estado:'activa'};await servicioDescuentos.crear(descuento);onSave();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message);}finally{setCargando(false);}};if(!open)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4\",children:[\"Crear Promoci\\xF3n para \",producto===null||producto===void 0?void 0:producto.nombre]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"nombre\",value:form.nombre,onChange:handleChange,placeholder:\"Nombre\",className:\"w-full p-2 border rounded\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"descripcion\",value:form.descripcion,onChange:handleChange,placeholder:\"Descripci\\xF3n\",className:\"w-full p-2 border rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"tipo_descuento\",value:form.tipo_descuento,onChange:handleChange,className:\"p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"porcentaje\",children:\"Porcentaje (%)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monto_fijo\",children:\"Monto Fijo\"})]}),/*#__PURE__*/_jsx(\"input\",{name:\"valor_descuento\",type:\"number\",value:form.valor_descuento,onChange:handleChange,placeholder:\"Valor\",className:\"p-2 border rounded w-32\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"fecha_inicio\",type:\"date\",value:form.fecha_inicio,onChange:handleChange,className:\"p-2 border rounded w-1/2\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"fecha_fin\",type:\"date\",value:form.fecha_fin,onChange:handleChange,className:\"p-2 border rounded w-1/2\",required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-sm\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 bg-gray-200 rounded\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:cargando,className:\"px-4 py-2 bg-blue-600 text-white rounded\",children:cargando?'Guardando...':'Guardar'})]})]})]})});};const GestorPromociones=()=>{const[productos,setProductos]=useState([]);const[cargando,setCargando]=useState(true);const[error,setError]=useState(null);const[modal,setModal]=useState({open:false,producto:null});const[exito,setExito]=useState('');const cargarDatos=async()=>{setCargando(true);setError(null);setExito('');try{const resProductos=await servicioProductos.obtenerTodos({limit:1000});const resDescuentos=await servicioDescuentos.obtenerTodos();const descuentos=resDescuentos.data||[];const productosConDescuento=(resProductos.data||[]).map(prod=>{const descuento=descuentos.find(d=>d.producto_id===prod.id&&d.estado==='activa');return _objectSpread(_objectSpread({},prod),{},{descuento});});setProductos(productosConDescuento);}catch(err){setError(err.message||'Error al cargar los datos');console.error(err);}finally{setCargando(false);}};useEffect(()=>{cargarDatos();},[]);const formatearPrecio=precio=>{return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP'}).format(precio);};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"space-y-6\",children:[exito&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 text-green-800 p-2 rounded text-center\",children:exito}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 dark:text-white\",children:\"Productos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mt-1\",children:\"Aplica descuentos a productos espec\\xEDficos.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Producto\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Precio Original\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Descuento Aplicado\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"relative px-6 py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Acciones\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200 dark:bg-gray-800\",children:productos.map(producto=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-10 w-10 rounded-full object-cover\",src:producto.imagen||'/assets/imagenes/productos/placeholder.jpg',alt:producto.nombre})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:producto.nombre}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"SKU: \",producto.codigo_sku]})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900 dark:text-white\",children:formatearPrecio(producto.precio)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:producto.tiene_promocion&&producto.promocion_activa?/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\",children:producto.promocion_activa.tipo==='porcentaje'?\"-\".concat(producto.promocion_activa.porcentaje,\"%\"):\"-$\".concat(Number(producto.promocion_activa.monto).toLocaleString('es-CL'))}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 italic\",children:\"Sin descuento\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200 flex items-center\",onClick:()=>setModal({open:true,producto}),children:[/*#__PURE__*/_jsx(PlusCircleIcon,{className:\"w-5 h-5 mr-1\"}),\"Crear Descuento\"]})})]},producto.id))})]}),productos.length===0&&!cargando&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No se encontraron productos.\"})})]})]}),/*#__PURE__*/_jsx(ModalPromocion,{open:modal.open,producto:modal.producto,onClose:()=>setModal({open:false,producto:null}),onSave:()=>{setModal({open:false,producto:null});setExito('¡Descuento creado y asociado correctamente!');cargarDatos();}})]});};export default GestorPromociones;","map":{"version":3,"names":["React","useState","useEffect","motion","servicioProductos","servicioDescuentos","TagIcon","PlusCircleIcon","PencilIcon","TrashIcon","api","dayjs","jsxs","_jsxs","jsx","_jsx","ModalPromocion","_ref","open","onClose","onSave","producto","form","setForm","nombre","descripcion","tipo_descuento","valor_descuento","fecha_inicio","fecha_fin","cargando","setCargando","error","setError","hoy","format","manana","add","concat","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","descuento","producto_id","id","tipo","valor","estado","crear","err","_err$response","_err$response$data","response","data","message","className","children","onSubmit","onChange","placeholder","required","type","onClick","disabled","GestorPromociones","productos","setProductos","modal","setModal","exito","setExito","cargarDatos","resProductos","obtenerTodos","limit","resDescuentos","descuentos","productosConDescuento","map","prod","find","d","console","formatearPrecio","precio","Intl","NumberFormat","style","currency","div","initial","opacity","y","animate","transition","duration","scope","src","imagen","alt","codigo_sku","tiene_promocion","promocion_activa","porcentaje","Number","monto","toLocaleString","length"],"sources":["C:/ferrenuevo/fronted/src/componentes/descuentos/GestorPromociones.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { servicioProductos } from '../../servicios/servicioProductos';\r\nimport { servicioDescuentos } from '../../servicios/servicioDescuentos';\r\nimport { TagIcon, PlusCircleIcon, PencilIcon, TrashIcon } from '@heroicons/react/24/outline';\r\nimport api from '../../servicios/api';\r\nimport dayjs from 'dayjs';\r\n\r\nconst ModalPromocion = ({ open, onClose, onSave, producto }) => {\r\n  const [form, setForm] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    tipo_descuento: 'porcentaje',\r\n    valor_descuento: '',\r\n    fecha_inicio: '',\r\n    fecha_fin: ''\r\n  });\r\n  const [cargando, setCargando] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (open && producto) {\r\n      // Fechas por defecto: hoy y mañana\r\n      const hoy = dayjs().format('YYYY-MM-DD');\r\n      const manana = dayjs().add(1, 'day').format('YYYY-MM-DD');\r\n      setForm({\r\n        nombre: `Promo ${producto.nombre}`,\r\n        descripcion: '',\r\n        tipo_descuento: 'porcentaje',\r\n        valor_descuento: '',\r\n        fecha_inicio: hoy,\r\n        fecha_fin: manana\r\n      });\r\n      setError(null);\r\n    }\r\n  }, [open, producto]);\r\n\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setCargando(true);\r\n    setError(null);\r\n    try {\r\n      // Construir el objeto descuento con los campos correctos\r\n      const descuento = {\r\n        producto_id: producto.id,\r\n        tipo: form.tipo_descuento, // 'porcentaje' o 'monto_fijo'\r\n        valor: form.valor_descuento,\r\n        fecha_inicio: form.fecha_inicio,\r\n        fecha_fin: form.fecha_fin,\r\n        estado: 'activa'\r\n      };\r\n      await servicioDescuentos.crear(descuento);\r\n      onSave();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || err.message);\r\n    } finally {\r\n      setCargando(false);\r\n    }\r\n  };\r\n\r\n  if (!open) return null;\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Crear Promoción para {producto?.nombre}</h2>\r\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n          <input name=\"nombre\" value={form.nombre} onChange={handleChange} placeholder=\"Nombre\" className=\"w-full p-2 border rounded\" required />\r\n          <textarea name=\"descripcion\" value={form.descripcion} onChange={handleChange} placeholder=\"Descripción\" className=\"w-full p-2 border rounded\" />\r\n          <div className=\"flex gap-2\">\r\n            <select name=\"tipo_descuento\" value={form.tipo_descuento} onChange={handleChange} className=\"p-2 border rounded\">\r\n              <option value=\"porcentaje\">Porcentaje (%)</option>\r\n              <option value=\"monto_fijo\">Monto Fijo</option>\r\n            </select>\r\n            <input name=\"valor_descuento\" type=\"number\" value={form.valor_descuento} onChange={handleChange} placeholder=\"Valor\" className=\"p-2 border rounded w-32\" required />\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <input name=\"fecha_inicio\" type=\"date\" value={form.fecha_inicio} onChange={handleChange} className=\"p-2 border rounded w-1/2\" required />\r\n            <input name=\"fecha_fin\" type=\"date\" value={form.fecha_fin} onChange={handleChange} className=\"p-2 border rounded w-1/2\" required />\r\n          </div>\r\n          {error && <div className=\"text-red-500 text-sm\">{error}</div>}\r\n          <div className=\"flex justify-end gap-2 mt-2\">\r\n            <button type=\"button\" onClick={onClose} className=\"px-4 py-2 bg-gray-200 rounded\">Cancelar</button>\r\n            <button type=\"submit\" disabled={cargando} className=\"px-4 py-2 bg-blue-600 text-white rounded\">{cargando ? 'Guardando...' : 'Guardar'}</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GestorPromociones = () => {\r\n  const [productos, setProductos] = useState([]);\r\n  const [cargando, setCargando] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [modal, setModal] = useState({ open: false, producto: null });\r\n  const [exito, setExito] = useState('');\r\n\r\n  const cargarDatos = async () => {\r\n    setCargando(true);\r\n    setError(null);\r\n    setExito('');\r\n    try {\r\n      const resProductos = await servicioProductos.obtenerTodos({ limit: 1000 });\r\n      const resDescuentos = await servicioDescuentos.obtenerTodos();\r\n      const descuentos = resDescuentos.data || [];\r\n      const productosConDescuento = (resProductos.data || []).map(prod => {\r\n        const descuento = descuentos.find(d => d.producto_id === prod.id && d.estado === 'activa');\r\n        return { ...prod, descuento };\r\n      });\r\n      setProductos(productosConDescuento);\r\n    } catch (err) {\r\n      setError(err.message || 'Error al cargar los datos');\r\n      console.error(err);\r\n    } finally {\r\n      setCargando(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    cargarDatos();\r\n  }, []);\r\n\r\n  const formatearPrecio = (precio) => {\r\n    return new Intl.NumberFormat('es-CL', {\r\n      style: 'currency',\r\n      currency: 'CLP',\r\n    }).format(precio);\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n      className=\"space-y-6\"\r\n    >\r\n      {exito && <div className=\"bg-green-100 text-green-800 p-2 rounded text-center\">{exito}</div>}\r\n      {/* Listado de Productos */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg\">\r\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n            Productos\r\n          </h2>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\r\n            Aplica descuentos a productos específicos.\r\n          </p>\r\n        </div>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n              <tr>\r\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Producto</th>\r\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Precio Original</th>\r\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Descuento Aplicado</th>\r\n                <th scope=\"col\" className=\"relative px-6 py-3\">\r\n                  <span className=\"sr-only\">Acciones</span>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800\">\r\n              {productos.map((producto) => (\r\n                <tr key={producto.id}>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0 h-10 w-10\">\r\n                        <img className=\"h-10 w-10 rounded-full object-cover\" src={producto.imagen || '/assets/imagenes/productos/placeholder.jpg'} alt={producto.nombre} />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <div className=\"text-sm font-medium text-gray-900 dark:text-white\">{producto.nombre}</div>\r\n                        <div className=\"text-sm text-gray-500 dark:text-gray-400\">SKU: {producto.codigo_sku}</div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-gray-900 dark:text-white\">{formatearPrecio(producto.precio)}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    {producto.tiene_promocion && producto.promocion_activa ? (\r\n                      <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\r\n                        {producto.promocion_activa.tipo === 'porcentaje'\r\n                          ? `-${producto.promocion_activa.porcentaje}%`\r\n                          : `-$${Number(producto.promocion_activa.monto).toLocaleString('es-CL')}`}\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"text-sm text-gray-500 italic\">Sin descuento</span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                    <button\r\n                      className=\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200 flex items-center\"\r\n                      onClick={() => setModal({ open: true, producto })}\r\n                    >\r\n                      <PlusCircleIcon className=\"w-5 h-5 mr-1\" />\r\n                      Crear Descuento\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          {productos.length === 0 && !cargando && (\r\n            <div className=\"text-center py-12\">\r\n              <p className=\"text-gray-500\">No se encontraron productos.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <ModalPromocion\r\n        open={modal.open}\r\n        producto={modal.producto}\r\n        onClose={() => setModal({ open: false, producto: null })}\r\n        onSave={() => {\r\n          setModal({ open: false, producto: null });\r\n          setExito('¡Descuento creado y asociado correctamente!');\r\n          cargarDatos();\r\n        }}\r\n      />\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default GestorPromociones;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}