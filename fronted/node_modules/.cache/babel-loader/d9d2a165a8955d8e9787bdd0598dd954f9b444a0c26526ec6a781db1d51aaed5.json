{"ast":null,"code":"import _objectSpread from\"C:/ferrenuevo/fronted/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// ==========================================\n// ARCHIVO: frontend/src/contexto/ContextoCarrito.jsx\n// ==========================================\nimport React,{createContext,useContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CarritoContext=/*#__PURE__*/createContext();export const useCarrito=()=>{const context=useContext(CarritoContext);if(!context){throw new Error('useCarrito debe ser usado dentro de un CarritoProvider');}return context;};export const CarritoProvider=_ref=>{let{children}=_ref;const[carrito,setCarrito]=useState([]);const agregarItem=function(producto){let cantidad=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;setCarrito(prevCarrito=>{const itemExistente=prevCarrito.find(item=>item.id===producto.id);if(itemExistente){return prevCarrito.map(item=>item.id===producto.id?_objectSpread(_objectSpread({},item),{},{cantidad:item.cantidad+cantidad}):item);}return[...prevCarrito,_objectSpread(_objectSpread({},producto),{},{cantidad})];});};const actualizarCantidad=(id,cantidad)=>{if(cantidad<1)return;setCarrito(prevCarrito=>prevCarrito.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{cantidad}):item));};const eliminarItem=id=>{setCarrito(prevCarrito=>prevCarrito.filter(item=>item.id!==id));};const limpiarCarrito=()=>{setCarrito([]);};const obtenerTotal=()=>{return carrito.reduce((total,item)=>total+item.precio*item.cantidad,0);};const obtenerCantidadTotal=()=>{return carrito.reduce((total,item)=>total+(item.cantidad||1),0);};const value={carrito,agregarItem,actualizarCantidad,eliminarItem,limpiarCarrito,obtenerTotal,obtenerCantidadTotal};return/*#__PURE__*/_jsx(CarritoContext.Provider,{value:value,children:children});};export default CarritoContext;","map":{"version":3,"names":["React","createContext","useContext","useState","jsx","_jsx","CarritoContext","useCarrito","context","Error","CarritoProvider","_ref","children","carrito","setCarrito","agregarItem","producto","cantidad","arguments","length","undefined","prevCarrito","itemExistente","find","item","id","map","_objectSpread","actualizarCantidad","eliminarItem","filter","limpiarCarrito","obtenerTotal","reduce","total","precio","obtenerCantidadTotal","value","Provider"],"sources":["C:/ferrenuevo/fronted/src/contexto/ContextoCarrito.jsx"],"sourcesContent":["// ==========================================\r\n// ARCHIVO: frontend/src/contexto/ContextoCarrito.jsx\r\n// ==========================================\r\nimport React, { createContext, useContext, useState } from 'react';\r\n\r\nconst CarritoContext = createContext();\r\n\r\nexport const useCarrito = () => {\r\n    const context = useContext(CarritoContext);\r\n    if (!context) {\r\n        throw new Error('useCarrito debe ser usado dentro de un CarritoProvider');\r\n    }\r\n    return context;\r\n};\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [carrito, setCarrito] = useState([]);\r\n\r\n    const agregarItem = (producto, cantidad = 1) => {\r\n        setCarrito(prevCarrito => {\r\n            const itemExistente = prevCarrito.find(item => item.id === producto.id);\r\n            if (itemExistente) {\r\n                return prevCarrito.map(item =>\r\n                    item.id === producto.id\r\n                        ? { ...item, cantidad: item.cantidad + cantidad }\r\n                        : item\r\n                );\r\n            }\r\n            return [...prevCarrito, { ...producto, cantidad }];\r\n        });\r\n    };\r\n\r\n    const actualizarCantidad = (id, cantidad) => {\r\n        if (cantidad < 1) return;\r\n        setCarrito(prevCarrito =>\r\n            prevCarrito.map(item =>\r\n                item.id === id ? { ...item, cantidad } : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const eliminarItem = (id) => {\r\n        setCarrito(prevCarrito => prevCarrito.filter(item => item.id !== id));\r\n    };\r\n\r\n    const limpiarCarrito = () => {\r\n        setCarrito([]);\r\n    };\r\n\r\n    const obtenerTotal = () => {\r\n        return carrito.reduce((total, item) => total + (item.precio * item.cantidad), 0);\r\n    };\r\n\r\n    const obtenerCantidadTotal = () => {\r\n        return carrito.reduce((total, item) => total + (item.cantidad || 1), 0);\r\n    };\r\n\r\n    const value = {\r\n        carrito,\r\n        agregarItem,\r\n        actualizarCantidad,\r\n        eliminarItem,\r\n        limpiarCarrito,\r\n        obtenerTotal,\r\n        obtenerCantidadTotal\r\n    };\r\n\r\n    return (\r\n        <CarritoContext.Provider value={value}>\r\n            {children}\r\n        </CarritoContext.Provider>\r\n    );\r\n};\r\n\r\nexport default CarritoContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}