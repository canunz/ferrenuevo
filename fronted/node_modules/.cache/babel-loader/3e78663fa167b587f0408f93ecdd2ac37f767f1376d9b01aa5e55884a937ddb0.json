{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{servicioClientes}from'../../servicios/servicioClientes';import{ArrowLeftIcon,EnvelopeIcon,PhoneIcon,BuildingOfficeIcon,UserIcon,ChevronDownIcon,ChevronRightIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DetalleCliente=_ref=>{let{clienteId,onVolver}=_ref;const{id}=useParams();const navigate=useNavigate();const[cliente,setCliente]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[direccionEnvio,setDireccionEnvio]=useState(null);const[mostrarHistorial,setMostrarHistorial]=useState(false);const[historialCompras,setHistorialCompras]=useState([]);const[cargandoHistorial,setCargandoHistorial]=useState(false);// Usar clienteId si se pasa como prop, sino usar el id de la URL\nconst clienteIdToUse=clienteId||id;useEffect(()=>{const fetchCliente=async()=>{try{setLoading(true);setError(null);const data=await servicioClientes.obtenerPorId(clienteIdToUse);setCliente(data);// Obtener dirección de envío\ntry{const direccion=await servicioClientes.obtenerDireccionEnvio(clienteIdToUse);setDireccionEnvio(direccion);}catch(e){setDireccionEnvio(null);}}catch(err){setError('Error al cargar el cliente');}finally{setLoading(false);}};if(clienteIdToUse){fetchCliente();}},[clienteIdToUse]);const handleVolver=()=>{if(onVolver){onVolver();}else{navigate(-1);}};const handleToggleHistorial=async()=>{if(!mostrarHistorial&&historialCompras.length===0){setCargandoHistorial(true);try{const data=await servicioClientes.obtenerHistorial(clienteIdToUse);setHistorialCompras(data);}catch(e){setHistorialCompras([]);}finally{setCargandoHistorial(false);}}setMostrarHistorial(!mostrarHistorial);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md bg-red-50 p-4 m-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})});}if(!cliente){return/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center text-red-600\",children:\"Cliente no encontrado\"});}console.log('Cliente en render:',cliente);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleVolver,className:\"flex items-center text-indigo-600 hover:text-indigo-800 mb-6\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 mr-2\"}),\" Volver a la lista\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[cliente.tipo_cliente==='empresa'?/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"h-12 w-12 text-gray-400\"}):/*#__PURE__*/_jsx(UserIcon,{className:\"h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:cliente.nombre}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:cliente.rut||'Sin RUT'}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-block mt-1 px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800\",children:cliente.tipo_cliente==='empresa'?'Empresa':'Persona'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Datos de Contacto\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-700 mb-1\",children:[/*#__PURE__*/_jsx(EnvelopeIcon,{className:\"h-5 w-5 mr-2 text-gray-400\"}),cliente.email]}),cliente.telefono&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-700 mb-1\",children:[/*#__PURE__*/_jsx(PhoneIcon,{className:\"h-5 w-5 mr-2 text-gray-400\"}),cliente.telefono]}),direccionEnvio&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-1 text-gray-700\",children:\"Direcci\\xF3n de Env\\xEDo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-700 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Direcci\\xF3n:\"}),\" \",direccionEnvio.direccion,\" \",direccionEnvio.numero,\" \",direccionEnvio.depto_oficina&&\", Depto/Of: \".concat(direccionEnvio.depto_oficina)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Comuna:\"}),\" \",direccionEnvio.comuna]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Ciudad:\"}),\" \",direccionEnvio.ciudad]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Regi\\xF3n:\"}),\" \",direccionEnvio.region]}),direccionEnvio.codigo_postal&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"C\\xF3digo Postal:\"}),\" \",direccionEnvio.codigo_postal]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Receptor:\"}),\" \",direccionEnvio.nombre_receptor]}),direccionEnvio.telefono_receptor&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Tel\\xE9fono:\"}),\" \",direccionEnvio.telefono_receptor]}),direccionEnvio.instrucciones_entrega&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Instrucciones:\"}),\" \",direccionEnvio.instrucciones_entrega]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Informaci\\xF3n Adicional\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"ID:\"}),\" \",cliente.id]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\xDAltima compra:\"}),\" \",cliente.estadisticas&&cliente.estadisticas.ultima_compra?new Date(cliente.estadisticas.ultima_compra).toLocaleDateString('es-CL'):'Sin compras']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleToggleHistorial,className:\"flex items-center text-gray-700 font-semibold text-lg focus:outline-none\",children:[mostrarHistorial?/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-5 w-5 mr-2\"}):/*#__PURE__*/_jsx(ChevronRightIcon,{className:\"h-5 w-5 mr-2\"}),\"Historial de Compras\"]}),mostrarHistorial&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:cargandoHistorial?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"Cargando historial...\"}):historialCompras.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:\"Sin compras registradas.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:historialCompras.map((compra,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:compra.descripcion||'Compra'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:new Date(compra.fecha_compra).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-indigo-700\",children:[\"$\",compra.monto_total]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"M\\xE9todo: \",compra.metodo_pago]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Puntos: \",compra.puntos_ganados]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Satisfacci\\xF3n: \",compra.nivel_satisfaccion]}),parseFloat(compra.descuento_aplicado)>0&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Descuento: $\",compra.descuento_aplicado]}),compra.comentario_compra&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Comentario: \",compra.comentario_compra]})]}),compra.productos&&compra.productos.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 ml-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-semibold text-gray-700 mb-1\",children:\"Productos:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc ml-4 text-xs text-gray-700\",children:compra.productos.map((prod,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[prod.nombre,\" (x\",prod.cantidad,\") - $\",prod.precio_unitario]},i))})]})]},idx))})})]})]})]});};export default DetalleCliente;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","servicioClientes","ArrowLeftIcon","EnvelopeIcon","PhoneIcon","BuildingOfficeIcon","UserIcon","ChevronDownIcon","ChevronRightIcon","jsx","_jsx","jsxs","_jsxs","DetalleCliente","_ref","clienteId","onVolver","id","navigate","cliente","setCliente","loading","setLoading","error","setError","direccionEnvio","setDireccionEnvio","mostrarHistorial","setMostrarHistorial","historialCompras","setHistorialCompras","cargandoHistorial","setCargandoHistorial","clienteIdToUse","fetchCliente","data","obtenerPorId","direccion","obtenerDireccionEnvio","e","err","handleVolver","handleToggleHistorial","length","obtenerHistorial","className","children","console","log","onClick","tipo_cliente","nombre","rut","email","telefono","numero","depto_oficina","concat","comuna","ciudad","region","codigo_postal","nombre_receptor","telefono_receptor","instrucciones_entrega","estadisticas","ultima_compra","Date","toLocaleDateString","map","compra","idx","descripcion","fecha_compra","monto_total","metodo_pago","puntos_ganados","nivel_satisfaccion","parseFloat","descuento_aplicado","comentario_compra","productos","prod","i","cantidad","precio_unitario"],"sources":["C:/ferrenuevo/fronted/src/componentes/clientes/DetalleCliente.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { servicioClientes } from '../../servicios/servicioClientes';\r\nimport { ArrowLeftIcon, EnvelopeIcon, PhoneIcon, BuildingOfficeIcon, UserIcon, ChevronDownIcon, ChevronRightIcon } from '@heroicons/react/24/outline';\r\n\r\nconst DetalleCliente = ({ clienteId, onVolver }) => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [cliente, setCliente] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [direccionEnvio, setDireccionEnvio] = useState(null);\r\n  const [mostrarHistorial, setMostrarHistorial] = useState(false);\r\n  const [historialCompras, setHistorialCompras] = useState([]);\r\n  const [cargandoHistorial, setCargandoHistorial] = useState(false);\r\n\r\n  // Usar clienteId si se pasa como prop, sino usar el id de la URL\r\n  const clienteIdToUse = clienteId || id;\r\n\r\n  useEffect(() => {\r\n    const fetchCliente = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        const data = await servicioClientes.obtenerPorId(clienteIdToUse);\r\n        setCliente(data);\r\n        // Obtener dirección de envío\r\n        try {\r\n          const direccion = await servicioClientes.obtenerDireccionEnvio(clienteIdToUse);\r\n          setDireccionEnvio(direccion);\r\n        } catch (e) {\r\n          setDireccionEnvio(null);\r\n        }\r\n      } catch (err) {\r\n        setError('Error al cargar el cliente');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    if (clienteIdToUse) {\r\n      fetchCliente();\r\n    }\r\n  }, [clienteIdToUse]);\r\n\r\n  const handleVolver = () => {\r\n    if (onVolver) {\r\n      onVolver();\r\n    } else {\r\n      navigate(-1);\r\n    }\r\n  };\r\n\r\n  const handleToggleHistorial = async () => {\r\n    if (!mostrarHistorial && historialCompras.length === 0) {\r\n      setCargandoHistorial(true);\r\n      try {\r\n        const data = await servicioClientes.obtenerHistorial(clienteIdToUse);\r\n        setHistorialCompras(data);\r\n      } catch (e) {\r\n        setHistorialCompras([]);\r\n      } finally {\r\n        setCargandoHistorial(false);\r\n      }\r\n    }\r\n    setMostrarHistorial(!mostrarHistorial);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"rounded-md bg-red-50 p-4 m-4\">\r\n        <p className=\"text-sm text-red-800\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!cliente) {\r\n    return <div className=\"p-8 text-center text-red-600\">Cliente no encontrado</div>;\r\n  }\r\n\r\n  console.log('Cliente en render:', cliente);\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto px-4 py-8\">\r\n      <button\r\n        onClick={handleVolver}\r\n        className=\"flex items-center text-indigo-600 hover:text-indigo-800 mb-6\"\r\n      >\r\n        <ArrowLeftIcon className=\"h-5 w-5 mr-2\" /> Volver a la lista\r\n      </button>\r\n\r\n      <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n        <div className=\"flex items-center mb-6\">\r\n          {cliente.tipo_cliente === 'empresa' ? (\r\n            <BuildingOfficeIcon className=\"h-12 w-12 text-gray-400\" />\r\n          ) : (\r\n            <UserIcon className=\"h-12 w-12 text-gray-400\" />\r\n          )}\r\n          <div className=\"ml-4\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">{cliente.nombre}</h2>\r\n            <p className=\"text-gray-500\">{cliente.rut || 'Sin RUT'}</p>\r\n            <span className=\"inline-block mt-1 px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800\">\r\n              {cliente.tipo_cliente === 'empresa' ? 'Empresa' : 'Persona'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Datos de Contacto</h3>\r\n            <div className=\"flex items-center text-gray-700 mb-1\">\r\n              <EnvelopeIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\r\n              {cliente.email}\r\n            </div>\r\n            {cliente.telefono && (\r\n              <div className=\"flex items-center text-gray-700 mb-1\">\r\n                <PhoneIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\r\n                {cliente.telefono}\r\n              </div>\r\n            )}\r\n            {/* Dirección de Envío */}\r\n            {direccionEnvio && (\r\n              <div className=\"mt-4 p-3 bg-gray-50 rounded\">\r\n                <h4 className=\"font-semibold mb-1 text-gray-700\">Dirección de Envío</h4>\r\n                <div className=\"text-gray-700 text-sm\">\r\n                  <div><span className=\"font-medium\">Dirección:</span> {direccionEnvio.direccion} {direccionEnvio.numero} {direccionEnvio.depto_oficina && `, Depto/Of: ${direccionEnvio.depto_oficina}`}</div>\r\n                  <div><span className=\"font-medium\">Comuna:</span> {direccionEnvio.comuna}</div>\r\n                  <div><span className=\"font-medium\">Ciudad:</span> {direccionEnvio.ciudad}</div>\r\n                  <div><span className=\"font-medium\">Región:</span> {direccionEnvio.region}</div>\r\n                  {direccionEnvio.codigo_postal && <div><span className=\"font-medium\">Código Postal:</span> {direccionEnvio.codigo_postal}</div>}\r\n                  <div><span className=\"font-medium\">Receptor:</span> {direccionEnvio.nombre_receptor}</div>\r\n                  {direccionEnvio.telefono_receptor && <div><span className=\"font-medium\">Teléfono:</span> {direccionEnvio.telefono_receptor}</div>}\r\n                  {direccionEnvio.instrucciones_entrega && <div><span className=\"font-medium\">Instrucciones:</span> {direccionEnvio.instrucciones_entrega}</div>}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Información Adicional</h3>\r\n            <div className=\"mb-1\">\r\n              <span className=\"font-medium\">ID:</span> {cliente.id}\r\n            </div>\r\n            <div className=\"mb-1\">\r\n              <span className=\"font-medium\">Última compra:</span> {cliente.estadisticas && cliente.estadisticas.ultima_compra ? new Date(cliente.estadisticas.ultima_compra).toLocaleDateString('es-CL') : 'Sin compras'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Historial de Compras */}\r\n        <div className=\"mt-6\">\r\n          <button\r\n            onClick={handleToggleHistorial}\r\n            className=\"flex items-center text-gray-700 font-semibold text-lg focus:outline-none\"\r\n          >\r\n            {mostrarHistorial ? (\r\n              <ChevronDownIcon className=\"h-5 w-5 mr-2\" />\r\n            ) : (\r\n              <ChevronRightIcon className=\"h-5 w-5 mr-2\" />\r\n            )}\r\n            Historial de Compras\r\n          </button>\r\n          {mostrarHistorial && (\r\n            <div className=\"mt-3\">\r\n              {cargandoHistorial ? (\r\n                <div className=\"text-gray-500\">Cargando historial...</div>\r\n              ) : historialCompras.length === 0 ? (\r\n                <div className=\"text-gray-400\">Sin compras registradas.</div>\r\n              ) : (\r\n                <ul className=\"divide-y divide-gray-200\">\r\n                  {historialCompras.map((compra, idx) => (\r\n                    <li key={idx} className=\"py-2\">\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm text-gray-700\">{compra.descripcion || 'Compra'}</span>\r\n                        <span className=\"text-sm text-gray-500\">{new Date(compra.fecha_compra).toLocaleDateString()}</span>\r\n                        <span className=\"text-sm font-semibold text-indigo-700\">${compra.monto_total}</span>\r\n                      </div>\r\n                      <div className=\"flex flex-wrap gap-4 text-xs text-gray-500 mt-1\">\r\n                        <span>Método: {compra.metodo_pago}</span>\r\n                        <span>Puntos: {compra.puntos_ganados}</span>\r\n                        <span>Satisfacción: {compra.nivel_satisfaccion}</span>\r\n                        {parseFloat(compra.descuento_aplicado) > 0 && (\r\n                          <span>Descuento: ${compra.descuento_aplicado}</span>\r\n                        )}\r\n                        {compra.comentario_compra && (\r\n                          <span>Comentario: {compra.comentario_compra}</span>\r\n                        )}\r\n                      </div>\r\n                      {compra.productos && compra.productos.length > 0 && (\r\n                        <div className=\"mt-1 ml-4\">\r\n                          <span className=\"block text-xs font-semibold text-gray-700 mb-1\">Productos:</span>\r\n                          <ul className=\"list-disc ml-4 text-xs text-gray-700\">\r\n                            {compra.productos.map((prod, i) => (\r\n                              <li key={i}>\r\n                                {prod.nombre} (x{prod.cantidad}) - ${prod.precio_unitario}\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetalleCliente;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}